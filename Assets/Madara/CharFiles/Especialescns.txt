;===============================================================================
;----------------------SPECIALS-------------------------------------------------
;===============================================================================
;===============================================================================
; Katon Gokakyu(HOLD):
;-------------------------------------------------------------------------------
[Statedef 1000]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1000
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,27
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,27
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S5,13
volume = 50

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 999,999
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -4,-42
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, Hold FX]
type = Helper
trigger1 = time = 60
helpertype = normal
name = "Hold FX"
ID = 1020
stateno = 1020
pos = 0,0
postype = p1
ownpal = 1
Size.xscale = .35
size.yscale = .35

[State 200, End]
type = ChangeState
triggerall = time >= 30
trigger1 = ailevel = 0 && command != "hold_a"
trigger2 = ailevel > 0 && p2bodydist x < 100
trigger3 = ailevel > 0 && p2bodydist x >= 100 && p2bodydist x < 300 && time = 30+random%60
trigger4 = time = 90
value = ifelse(time >= 60,1002,1001)
;-------------------------------------------------------------------------------
; Katon Gokakyu - Remate
[Statedef 1001]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1001
poweradd = -500
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = [20,50]
value = 1001
elem = 5

[State 0, Katon Gokakyu]
type = Helper
trigger1 = time = 20
helpertype = normal
name = "Katon Gokakyu"
ID = 1050
stateno = 1050
pos = 50,-40
postype = p1
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Explod]
type = Explod
trigger1 = time = 20
anim = 1030
ID = 1030
pos = 20,-35
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Katon Ryuen Hoka
[Statedef 1002]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1001
poweradd = -1000
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,37
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,37
volume = 999

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = [20,130]
value = 1001
elem = 5

[State 0, Katon Ryuen Hoka]
type = Helper
trigger1 = time = [20,119]
trigger1 = timemod = 10,0
helpertype = normal
name = "Katon Ryuen Hoka"
ID = 1070
stateno = 1070
pos = 60,-40
postype = p1
facing = 1
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 0, Explod]
type = Explod
trigger1 = time = 20
anim = 1030
ID = 1030
pos = 20,-35
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,10
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,26
volume = 50

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 16 && timemod = 10,0 && numhelper(1070) > 0
value = 1001
elem = 4

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Hold FX
[Statedef 1020]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1020
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,9
volume = 50

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+time*.1,1+time*.1
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*25,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -3,-40

[State 200, End]
type = Destroyself
trigger1 = time = 10
trigger2 = root,movetype = H
;---------------------------------------------------------------------------
; Katon Gokakyu - Start
[StateDef 1050]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1050
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = time%10 = 0
time = 10
freq = 60
ampl = -2
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time%7 = 0
anim = 1052
ID = 1050
pos = 0,70
postype = p1
facing = 1
bindtime = 1
vel = 0,0
random = 0,0
scale = .7,.5
sprpriority = 0
ownpal = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = time > 10 && time%7=0
anim = 1052
ID = 1052
pos = -50,70
postype = p1
facing = 1
bindtime = 1
vel = 0,0
random = 0,0
scale = .7,.5
sprpriority = 0
ownpal = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = time > 8 && time%1=0
anim = 1053
ID = 1053
pos = 0,-20
postype = p1
facing = 1
bindtime = 1
vel = -3,0
random = 80,80
scale = .5,.5
sprpriority = 1
ownpal = 1
trans = add

[State 1002, 1]
type = HitDef
trigger1 = time%2=0
attr = A, SP
damage = 2,1
animtype = Light
guardflag = MA
hitflag = MAFde
priority = 3, Hit
pausetime = 0,1
sparkno = -1
guard.sparkno = s7000
hitsound = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -12,0
airguard.velocity = -12,0
air.type = High
air.velocity = -12,0
air.hittime = 12
fall.recover = 0
ground.cornerpush.veloff = 0
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, Trans]
type = Trans
trigger1 =1
trans = add

[state 0]
type = angledraw
triggerall = time < 10
trigger1 = 1
scale = 0+(time/10.0),0+(time/10.0)

[state 0]
type = angledraw
triggerall = time >= 10
trigger1 = 1
scale = 1,1

[State 0, VelSet]
type = VelSet
trigger1 = time > 10
x = 6

[State 0, Helper]
type = Helper
trigger1 =time%40=0
helpertype = normal
name ="puto el que lo lea"
ID = 1051
stateno = 1051
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale =.9
size.yscale =.9

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 1055
time = 1
forceair = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 100
trigger2 = frontedgedist < 0
value = 1055
;---------------------------------------------------------------------------
; Katon Gokakyu - FX
[StateDef 1051]
type = S
physics = S
ctrl = 0
anim = 1051
sprpriority = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =1
flag = noshadow
ignorehitpause =1

[State 0, AngleDraw]
type = AngleDraw
trigger1 =1
value = 90

[State 0, BindToParent]
type = BindToParent
trigger1 =1
time = 1
facing = 0
pos = -60,0

[State 0, Trans]
type = Trans
trigger1 =1
trans = add

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
; Katon Gokakyu - Fin
[StateDef 1055]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1065
sprpriority = 3

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 50
y = -30

[State 0, AllPalFX]
type = AllPalFX
trigger1 = time = 0
time = 2
add = 256,256,256
mul = 256,256,256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,19

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =1
flag = noshadow
ignorehitpause = 1

[State 1002, 1]
type = HitDef
trigger1 =!time
attr = S, NA
damage = 100,50
animtype = Light
guardflag = MA
hitflag = MAFde
priority = 3, Hit
pausetime = 0,10
sparkno = -1
guard.sparkno = s7000
hitsound = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity =-4,-5
airguard.velocity = -4,-5
air.type = High
air.velocity = -4,-5
air.hittime = 12
fall=1
fall.recover=0
ground.cornerpush.veloff=0
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, Explod]
type = Explod
trigger1 = movehit
trigger1= numtarget > 0
anim = 1080
ID = 1080
pos = 0,-15
postype = p2
vel = 0,-0.3
accel = 0,0
random = Cond(target,stateno=5110,80,15),Cond(target,stateno=5110,30,60)
scale = .2,.2
sprpriority = cond(random<500, 3, -1)
ownpal = 1
trans = add

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 1060
ID = 1060
pos = -30,35
postype = p1
scale = 1.5,1.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Trans]
type = Trans
trigger1 = time < 20
trans = add

[State 0]
type = Trans
trigger1 = time >= 20
trans = addalpha
alpha = 256-(20*(time-20)), 256

[State 0, EnvShake]
type = EnvShake
trigger1 =time=0
time = 20
freq = 60
ampl =  -4
phase = 90

[State 0, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 150
;-------------------------------------------------------------------------------
; Katon Ryuen Hoka - Start
[Statedef 1070]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1070
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0
value = -vel y * 5
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1075
time = 999999999
ignorehitpause = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 5

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 8
y = 2-random%5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SP
animtype  = Heavy
damage    = 22,11
Hitflag = MAFDE
guardflag = MA
pausetime = 0,2
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-2
air.velocity = -2,-2
Fall = 1
Getpower = 0,0
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, Fuego P2]
type = Helper
trigger1 = movehit = 1 && numhelper(1080) = 0
helpertype = normal
name = "Fuego P2"
ID = 1080
stateno = 1080
pos = 9999,9999999
postype = p1
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = frontedgebodydist < 0
trigger2 = time = 500
trigger3 = movecontact = 1
value = 1075
;-------------------------------------------------------------------------------
; Katon Ryuen Hoka - Fin
[Statedef 1075]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,8
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 1060
ID = 1060
pos = 20,0
postype = p1
scale = 1.5,1.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = time = 1
;-------------------------------------------------------------------------------
; Fire P2
[Statedef 1080]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999

[State 0, Fuegos]
type = Explod
trigger1 = timemod = 1,0
anim = 1080
ID = 1080
pos = -20+random%40,0-random%60
postype = p2
facing = -1
bindtime = -1
scale = .25,.25
sprpriority = 2
ontop = 1
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = p2movetype != H
trigger2 = time >= 60
;===============================================================================
; Katon Goka(HOLD):
;-------------------------------------------------------------------------------
[Statedef 1100]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1000
poweradd = -500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,27
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,27
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S5,13
volume = 50

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 999,999
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -4,-42
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, Hold FX]
type = Helper
trigger1 = time = 60
helpertype = normal
name = "Hold FX"
ID = 1020
stateno = 1020
pos = 0,0
postype = p1
ownpal = 1
Size.xscale = .35
size.yscale = .35

[State 200, End]
type = ChangeState
triggerall = ailevel = 0
triggerall = time >= 30
trigger1 = command != "hold_a"
trigger2 = time = 90
value = ifelse(time >= 60,1102,1101)

[State 200, End]
type = ChangeState
triggerall = ailevel > 0
triggerall = time >= 30
trigger1 = time = 90
trigger2 = p2bodydist x < 75
trigger3 = time = 30+random%60 && random < 500
value = ifelse(time >= 60,1102,1101)
;-------------------------------------------------------------------------------
; Katon Goka Messhitsu
[Statedef 1101]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1100
poweradd = -500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,3
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,3
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,3
volume = 999

[State 0, Katon Goka Messhitsu]
type = Helper
trigger1 = time = 20
helpertype = normal
name = "Katon Goka Messhitsu"
ID = 1150
stateno = 1150
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.xscale = .75
size.yscale = .75

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 16 && timemod = 10,0 && numhelper(1150) > 0
value = 1100
elem = 4

[State 0, EnvShake]
type = EnvShake
trigger1 = helper(1150),stateno = 1150
trigger1 = time > 20 && numhelper(1150) > 0 && timemod = 20,0
trigger2 = time = 20
time = 20

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Katon Goka Mekkyaku
[Statedef 1102]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1100
poweradd = -1000
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,63
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,63
volume = 999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = 1161
id = 1161
pos = 0.9*20,0.9*-40
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = -1
removetime = 115
sprpriority = 3
supermovetime=9999
pausemovetime=9999
removeongethit = 1
ownpal = 1

[State 0, Katon Goka Mekkyaku]
type = Helper
trigger1 = time = 20
helpertype = normal
name = "Katon Goka Mekkyaku"
ID = 1160
stateno = 1160
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 16 && timemod = 10,0 && numhelper(1160) > 0
value = 1100
elem = 4

[State 0, EnvShake]
type = EnvShake
trigger1 = helper(1160),stateno = 1160
trigger1 = time > 20 && numhelper(1160) > 0 && timemod = 20,0
trigger2 = time = 20
time = 20

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Katon Goka Messhitsu - Start
[Statedef 1150]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1150
sprpriority = 3

[State 0, Fuegos]
type = Explod
trigger1 = timemod = 1,0
anim = 1080
ID = 1080
pos = 50+random%200,10
vel = 5,-5
postype = p1
facing = -1
bindtime = 1
scale = .4,.4
sprpriority = 2
ontop = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,10
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = S5,52
volume = 50

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 17,-44

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = timemod = 5,0
attr = A, SP
animtype  = Heavy
damage    = 13,6
Hitflag = MAFDE
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
Fall = 0
Getpower = 0,0
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
sprpriority = 3

[State 0, Fuego P2]
type = Helper
trigger1 = movehit = 1 && numhelper(1080) = 0
helpertype = normal
name = "Fuego P2"
ID = 1080
stateno = 1080
pos = 9999,9999999
postype = p1
ownpal = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 1101

[State 200, End]
type = ChangeState
trigger1 = time = 75
value = 1155
;-------------------------------------------------------------------------------
; Katon Goka Messhitsu - Fin
[Statedef 1155]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*25,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,8
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Heavy
damage    = 13,6
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-8
air.velocity = -6,-8
Fall = 1
Getpower = 0,0
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
sprpriority = 3

[State 0, Fuego P2]
type = Helper
trigger1 = movehit = 1 && numhelper(1080) = 0
helpertype = normal
name = "Fuego P2"
ID = 1080
stateno = 1080
pos = 9999,9999999
postype = p1
ownpal = 1

[State 0, Explosion]
type = Explod
trigger1 = movecontact = 1 && numhelper(1060) = 0
anim = 1060
ID = 1060
pos = 0,-50
facing = -1
postype = p2
scale = 1.5,1.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = time = 10
;-------------------------------------------------------------------------------
; Katon Goka Mekkyaku - Start
[Statedef 1160]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1160
sprpriority = 3

[State 0, Fuegos]
type = Explod
trigger1 = timemod = 1,0
anim = 1080
ID = 1080
pos = 50+random%200,-10
vel = 5,-5
postype = p1
facing = -1
bindtime = 1
scale = .4,.4
sprpriority = 2
ontop = 1
ownpal = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = -1
length = 2
palcolor = 256
palinvertall = 0
palbright = 10,10,10
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .65,.65,.65
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,10
volume = 50

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 35,-10

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
flag2 = Unguardable
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = timemod = 5,0
attr = A, SP
animtype  = Heavy
damage    = 15
Hitflag = MAFDE
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
Fall = 0
Getpower = 0,0
PalFX.time = 60
PalFX.add = -100,-100,-100
PalFX.mul = 100,100,100
PalFX.sinadd = -100,-100,-100,10
PalFX.invertall = 0
PalFX.color = 256
sprpriority = 3

[State 0, Fuego P2]
type = Helper
trigger1 = movehit = 1 && numhelper(1080) = 0
helpertype = normal
name = "Fuego P2"
ID = 1080
stateno = 1080
pos = 9999,9999999
postype = p1
ownpal = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 1102

[State 200, End]
type = ChangeState
trigger1 = time = 125
value = 1165
;-------------------------------------------------------------------------------
; Katon Goka Mekkyaku - Fin
[Statedef 1165]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 1
length = 1
palcolor = 256
palinvertall = 0
palbright = 10,10,10
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .65,.65,.65
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*25,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,8
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30
ampl = -8

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Heavy
damage    = 10,5
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-8
air.velocity = -6,-8
Fall = 1
Getpower = 0,0
PalFX.time = 60
PalFX.add = -100,-100,-100
PalFX.mul = 100,100,100
PalFX.sinadd = -100,-100,-100,10
PalFX.invertall = 0
PalFX.color = 256
sprpriority = 3

[State 0, Fuego P2]
type = Helper
trigger1 = movehit = 1 && numhelper(1080) = 0
helpertype = normal
name = "Fuego P2"
ID = 1080
stateno = 1080
pos = 9999,9999999
postype = p1
ownpal = 1

[State 0, Explosion]
type = Explod
trigger1 = movecontact = 1 && numhelper(1060) = 0
anim = 1060
ID = 1060
pos = 0,-60
facing = -1
postype = p2
scale = 1.6,1.6
sprpriority = 3
ontop = 1
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = time = 10
;-------------------------------------------------------------------------------
; Katon Goka Messhitsu Aire
[Statedef 1180]
type    = A
movetype= I
physics = A
juggle  = 2
ctrl = 0
anim = 1101
poweradd = -1000
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -.25
y = -.25

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 0
statetype = A
movetype = A
physics = N

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6
x = -.25
y = -.25

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 6
statetype = A
movetype = A
physics = N

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 999,999
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -4,-42
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S5,13
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,27
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,27
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S0,3
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S0,3
volume = 999

[State 0, Helper]
type = Helper
trigger1 = animelem = 7
helpertype = normal
name = "Katon Goka Messhitsu"
ID = 1190
stateno = 1190
pos = 40,-25
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 0, Explod]
type = Explod
trigger1 = animelem = 7
anim = 1030
ID = 1030
pos = 25,-35
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
angle = -30

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 48 && timemod = 10,0 && numhelper(1190) > 0
value = 1101
elem = 7

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Katon Goka Messhitsu Aire - Start
[Statedef 1190]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1190
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -30
scale = 1.5,1.5

[State 0, Fuegos]
type = Explod
trigger1 = timemod = 1,0
anim = 1080
ID = 1080
pos = -17+random%200,10
vel = 5,-5
postype = p1
facing = -1
bindtime = 1
scale = .4,.4
sprpriority = 2
ontop = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,10
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = S5,52
volume = 50

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 17,-44

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = timemod = 5,0
attr = A, SP
animtype  = Heavy
damage    = 14,7
Hitflag = MAFDE
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1
air.velocity = -1,-1
Fall = 0
Getpower = 0,0
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
sprpriority = 3

[State 0, Fuego P2]
type = Helper
trigger1 = movehit = 1 && numhelper(1080) = 0
helpertype = normal
name = "Fuego P2"
ID = 1080
stateno = 1080
pos = 9999,9999999
postype = p1
ownpal = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 1180

[State 200, End]
type = ChangeState
trigger1 = time = 75
value = 1195
;-------------------------------------------------------------------------------
; Katon Goka Messhitsu Aire - Fin
[Statedef 1195]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -30
scale = 1.5,1.5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*25,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,8
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Heavy
damage    = 13,6
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-8
air.velocity = -6,-8
Fall = 1
Getpower = 0,0
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
sprpriority = 3

[State 0, Fuego P2]
type = Helper
trigger1 = movehit = 1 && numhelper(1080) = 0
helpertype = normal
name = "Fuego P2"
ID = 1080
stateno = 1080
pos = 9999,9999999
postype = p1
ownpal = 1

[State 0, Explosion]
type = Explod
trigger1 = movecontact = 1 && numhelper(1060) = 0
anim = 1060
ID = 1060
pos = 0,-50
facing = -1
postype = p2
scale = 1.5,1.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = time = 10
;===============================================================================
; Fuuton:
;-------------------------------------------------------------------------------
; Fuuton - Start
[Statedef 1200]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1200
poweradd = -500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,23
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,23
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,23
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,23
volume = 999

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 999,999
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -5,-35
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, Humo]
type = Explod
trigger1 = time = 0
anim = 7030
ID = 7030
pos = 0.9*10,0.9*-60
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1
scale = .8,.8
sprpriority = 5
ownpal = 1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S9,2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S5,1
volume = 999

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 20
Hitflag = MAFDE
guardflag = MA
pausetime = 12,48
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S2,3
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -2,-1
Fall = 0
Envshake.time = 5

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(980) = 0
helpertype = normal
name = "Hit Spark"
ID = 980
stateno = 980
pos = 0,-25*Helper(999999),Fvar(16)
postype = p2
facing = -1
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = movehit && animelem = 7
value = 1202

[State 200, End]
type = ChangeState
trigger1 = animelem = 7
value = 1201
;-------------------------------------------------------------------------------
; Fuuton - Fin
[Statedef 1201]
type    = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 1201
sprpriority = 2

[State 0, Humo]
type = Explod
trigger1 = time = 5
anim = 7030
ID = 7030
pos = 0.9*10,0.9*-60
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1
scale = .8,.8
sprpriority = 5
ownpal = 1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S9,2

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Fuuton - Golpe
[Statedef 1202]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 1202
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,1
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 20
Hitflag = MAFDE
guardflag = MA
pausetime = 12,60
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S2,3
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -2,-1
Fall = 0
Envshake.time = 5

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(980) = 0
helpertype = normal
name = "Hit Spark"
ID = 980
stateno = 980
pos = 0,-25*Helper(999999),Fvar(16)
postype = p2
facing = -1
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 1203
;-------------------------------------------------------------------------------
; Fuuton - Remate
[Statedef 1203]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 1203
poweradd = -1000
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,10
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,10
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,10
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,10
volume = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,1
volume = 50

[State 0, Humo]
type = Explod
trigger1 = animelem = 6
anim = 7030
ID = 7030
pos = 0.9*10,0.9*-60
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1
scale = .8,.8
sprpriority = 5
ownpal = 1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S9,2

[State 0, Getsuga Tenshou]
type = Helper
trigger1 = timemod = 15,0 && time = [30,130]
helpertype = normal
name = "Getsuga Tenshou"
ID = 1250
stateno = 1250
pos = 40*Helper(999999),Fvar(16),-50*Helper(999999),Fvar(16)
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .9*Helper(999999),Fvar(16)
size.yscale = .9*Helper(999999),Fvar(16)

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 30
Hitflag = MAFDE
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S2,4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,-6
air.velocity = -5,-6
Fall = 0
Envshake.time = 5

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(980) = 0
helpertype = normal
name = "Hit Spark"
ID = 980
stateno = 980
pos = 0,-25*Helper(999999),Fvar(16)
postype = p2
facing = -1
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Fuuton - FX
[Statedef 1250]
type    = S
movetype= A
physics = N
juggle  = 2
velSet = 9,0
ctrl = 0
anim = 1250
sprpriority = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
Triggerall = !movecontact
trigger1 = 1
attr = S, SP
animtype  = Heavy
damage    = 40,20
Hitflag = MAFDE
guardflag = MA
pausetime = 0,15
sparkno = -1
guard.sparkno = S7000
sparkxy = -8,0
hitsound   = S5,29
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,-2
air.velocity = -5,-2
Fall = 1
Sprpriority = 3
Envshake.time = 7
Getpower = 0,0

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(990) = 0
helpertype = normal
name = "Hit Spark"
ID = 990
stateno = 990
pos = 0,-25*Helper(999999),Fvar(16)
postype = p2
facing = -1
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = frontedgebodydist < -70
;===============================================================================
; Uchihagaeshi:
;-------------------------------------------------------------------------------
[Statedef 1300]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1300
poweradd = -500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,62
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,62
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,62
volume = 999

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 999,999
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-45
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, Humo]
type = Explod
trigger1 = time = 5||time = 90
anim = 7030
ID = 7030
pos = 0.9*10,0.9*-60
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1
scale = .8,.8
sprpriority = 5
ownpal = 1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5||time = 90
value = S9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5||time = 90
value = S9,2

[State 0, ReversalDef]
type = ReversalDef
trigger1 = 1
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
pausetime = 0,5
sparkno = -1
hitsound = -1
p1stateno = 1301
ignorehitpause = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Uchihagaeshi - Remate
[Statedef 1301]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1301
poweradd = -500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,61
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,61
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S9,2

[State 0, Srodek]
type = Explod
trigger1 = animelem = 7
anim = 7030
ID = 7030
pos = 0.9*10,0.9*-60
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1
scale = .8,.8
sprpriority = 5
ownpal = 1
ontop = 0

[State 0, Honda]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Honda"
ID = 1350
stateno = 1350
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .5
size.yscale = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = numhelper(1350) > 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5
ignorehitpause = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 0 && timemod = 15,0 && numhelper(1350) > 0
value = 1301
elem = 1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Honda
[Statedef 1350]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1350
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 80,-40

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 20
statetype = A
movetype = I
physics = N

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,10
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,37
volume = 50

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -90
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
flag2 = unguardable
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SP
animtype  = Heavy
damage    = 180,80
animtype = Heavy
guardflag = MA
hitflag = MAFDE
priority = 3, Hit
pausetime = 0,1
sparkno = -1
guard.sparkno = S6199
sparkxy = -20,-54
hitsound   = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 20
ground.velocity = -0.1,-6
air.velocity = -6,-6
guard.velocity = -2
airguard.velocity = -3
sprpriority = 10
fall = 1
air.type = High
air.hittime = 20
envshake.time = 8
envshake.freq = 100

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != [450,455]
trigger1 = movehit = 10
value = 450

[State 0, Camara Lenta]
type = Helper
trigger1 = movehit = 1 && numhelper(590) = 0
helpertype = normal
name = "Camara Lenta"
ID = 590
stateno = 590
pos = 9999,9999
postype = p1
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 1301
trigger2 = animtime = 0
;-------------------------------------------------------------------------------
; Fuuma Shuriken - Humo
[Statedef 1360]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7030
sprpriority = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(2),256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 1
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
fv = 1
value = .1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time > 10
v = 2
value = 35

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 1+fvar(1),1+fvar(1)

[State 200, End]
type = Destroyself
trigger1 = time = 30
;===============================================================================
; Kuchiyose Kyubi:
;-------------------------------------------------------------------------------
[Statedef 1400]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1400
poweradd = -1500
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,28
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,28
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,28
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,28
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S0,72
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S0,72
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S0,72
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S0,72
volume = 999

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 999,999
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -5,-35
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, FX]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "FX"
ID = 1410
stateno = 1410
pos = 0,0
postype = p1
ownpal = 1
Size.Xscale = .225*Helper(999999),Fvar(16)
Size.Yscale = .065*Helper(999999),Fvar(16)
Supermovetime = 30

[State 0, Kyubi]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "Kyubi"
ID = 1420
stateno = 33000
pos = 0*Helper(999999),Fvar(16),0*Helper(999999),Fvar(16)
postype = p1
ownpal = 1
Size.Xscale = .45*Helper(999999),Fvar(16)
Size.Yscale = .45*Helper(999999),Fvar(16)
Supermovetime = 15
size.ground.back = 40*Helper(999999),Fvar(16)
size.ground.front = 40*Helper(999999),Fvar(16)
size.air.back = 40*Helper(999999),Fvar(16)
size.air.front = 40*Helper(999999),Fvar(16)
size.height = 80*Helper(999999),Fvar(16)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = [30,60]
value = 1400
elem = 5

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Kuchiyose Kyubi - FX
[Statedef 1410]
type    = S
movetype= I
physics = N
anim = 1410
sprpriority = -2

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,stateno = 1400 &&  root,stateno = 3000
pos = 5*Helper(999999),Fvar(16),4*Helper(999999),Fvar(16)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Sub

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, VarAdd]
type = VarAdd
trigger1 = time < 10
Fv = 1
value = .1

[State 0, VarAdd]
type = VarAdd
trigger1 = time >= 40
v = 1
value = 10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = Fvar(1),Fvar(1)

[State 0, PalFX]
type = PalFX
trigger1 = 1
time = 1
mul = 256-var(1),256-var(1),256-var(1)

[State 200, End]
type = Destroyself
trigger1 = var(1) >= 256
;-------------------------------------------------------------------------------
; Kuchiyose Kyubi - Kyubi
[Statedef 1420]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1420
sprpriority = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,14
volume = 50

[State 0, Humo]
type = Helper
trigger1 = time = [0,10]
trigger2 = var(1) = 1
helpertype = normal
name = "Humo"
ID = 1490
stateno = 1490
pos = 75-random%200,0-random%150
postype = p1
facing = 1
ownpal = 1
size.xscale = .8
size.yscale = .8

[State 0, Bijuudama]
type = Helper
trigger1 = time = 35
helpertype = normal
name = "Bijuudama"
ID = 1450
stateno = 1450
pos = 120,-100
postype = p1
ownpal = 1
size.xscale = .2
size.yscale = .2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = S5,43
volume = 50

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 35 && numhelper(1450) > 0
value = 1420
elem = 3

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 4
v = 1
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S5,14
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 4
time = 10

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; Bijuudama - Proyectil
[Statedef 1450]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1450
sprpriority = 3

[State 0, Reflejo]
type = Explod
trigger1 = time = 0
anim = 1455
ID = 1455
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
scale = .2,.2
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 20,0
time = 20

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 10
y = 8

[State 200, End]
type = Changestate
trigger1 = pos y >= -10
value = 1460
;-------------------------------------------------------------------------------
; Bijuudama Explota - Start
[Statedef 1460]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1460
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1455

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,19
volume = 50

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 2
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = animelemtime(1) = [0,10]
fv = 2
value = .05

[State 0, VarAdd]
type = VarAdd
trigger1 = animelemtime(1) = [10,20]
fv = 2
value = -.05

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit = 1
pos = 0,-60

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 20,0
time = 20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,10
volume = 50

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 20

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 2+fvar(2),2+fvar(2)
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = timemod = 5,0
attr = A, SP
animtype  = Heavy
damage    = 13,7
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0
Fall = 0
sprpriority = 3
Getpower = 0,0
Envshake.time = 20

[State 0, Hit Spark]
type = Explod
trigger1 = Movehit = 1
anim = 7010
ID = 7001
postype = P2
pos = -75+random%150,-80+random%100
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1

[State 200, End]
type = ChangeState
trigger1 = time = 95
value = 1465
;-------------------------------------------------------------------------------
; Bijuudama Explota - Fin
[Statedef 1465]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30
ampl = -8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,8
volume = 50

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 0, Trans]
type = Trans
trigger1 = time > 0
trans = addalpha
alpha = 256-time*25,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = time > 0
v = 1
value = -25

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0
value = 0
scale = 2+fvar(2),2+fvar(2)
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = time > 0
fv = 2
value = .1

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Up
damage    = 13,7
Hitflag = MAFDE
guardflag = MA
pausetime = 0,5
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,-8
air.velocity = 0,-8
Fall = 1
sprpriority = 3
Getpower = 0,0
PalFX.time = 60
PalFX.add = -100,-100,-100
PalFX.mul = 50,50,50
PalFX.sinadd = -100,-100,-100,30
PalFX.invertall = 0
PalFX.color = 256

[State 200, End]
type = Destroyself
trigger1 = time = 10
;-------------------------------------------------------------------------------
; Kuchiyose Kyubi - Humo
[Statedef 1490]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7030
sprpriority = 8

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(2),256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 1
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
fv = 1
value = .1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time > 10
v = 2
value = 25

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 1+fvar(1),1+fvar(1)

[State 200, End]
type = Destroyself
trigger1 = time = 20
;===============================================================================
; Haijingakure no Jutsu:
;-------------------------------------------------------------------------------
[StateDef 1500]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1500
poweradd = -1000
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,77
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,77
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,77
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,77
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S5,4
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S0,78
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S0,78
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S0,78
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S0,78
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S0,78
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S0,78
volume = 999

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 999,999
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -5,-35
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, Dym]
type = Explod
ownpal = 0
trigger1 = animelem = 3
anim = 1520
id = 1520
pos = -9,-55*0.7
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = -2
removetime = -2
removeongethit = 1
sprpriority = 4
angle = 30
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal
name = "katon"
ID = 1550
stateno = 1550
pos = 120,60
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 45 && timemod = 20,0 && numhelper(1550) > 0
value = 1500
elem = 4

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Haijingakure no Jutsu - Helper	
[StateDef 1550]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1550
poweradd = 0
sprpriority = 0

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 5000

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1500
time = 1
pos = 120,0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -5

[State 0, Dym]
type = Explod
ownpal = 0
trigger1 = timemod = 20,0
anim = 1555
id = 1555
pos = 2,-58*1.9
scale = 0.4,0.4
vel = -3+random%7,-1+random%3
angle = time*5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 8
supermovetime=9999
pausemovetime=9999

[State 0, Zar]
type = Explod
ownpal = 0
trigger1 = timemod = 6,0
anim = 1556
id = 1556
pos = 2,-58*1.9
scale = 0.7,0.7
vel = -3+random%7,-1+random%3
angle = time*5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 10
supermovetime=9999
pausemovetime=9999

[State 0, Zar]
type = Explod
ownpal = 0
trigger1 = timemod = 6,0
anim = 1557
id = 1557
pos = 2,-58*1.9
scale = 0.7,0.7
vel = -3+random%7,-1+random%3
angle = time*5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 9
supermovetime=9999
pausemovetime=9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,57

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 50,0
value = S5,50

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 10,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0,24
sparkno = -1
sparkxy = -1
hitsound = s5,58
guardsound = s4,1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,0
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 10
envshake.ampl = -5
envshake.freq = 15
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, end]
type = destroyself
trigger1 = time = 100
;===============================================================================
;----------------------EMS------------------------------------------------------
;===============================================================================
; Tsukuyomi:
;-------------------------------------------------------------------------------
[Statedef 1600]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1600
poweradd = -500
sprpriority = 0

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 999,999
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-45
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .25,.25
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 6520, Hitdef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = !time
attr = C,HP
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = hard
fall.animtype = hard
ground.type = low
air.type = low
damage = 0,0
pausetime = 0,0
guard.pausetime = 0,0
sparkno = -1
guard.sparkno = s7000
sparkxy = 0,0
hitsound = S6,6
guardsound = S1,100
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
air.hittime = 20
guard.ctrltime = 20
airguard.ctrltime = 20
ground.velocity = 0,0
guard.velocity = 0
air.velocity = 0,0
airguard.velocity = 0,0
p1stateno = 1601
p2stateno = 1620

[State 0, Rayos]
type = Helper
trigger1 = animelem = 5
helpertype = normal
name = "Rayos"
ID = 1605
stateno = 1605
pos = 5,-40
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = .8
size.yscale = .8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S5,22

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 17  
value = pos x

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Tsukuyomi - Start
[StateDef 1601]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1601
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 750
pos = 0.9*2,0.9*-61
scale = 0.9*0.15,0.9*0.15
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Trans]
type = Trans
trigger1 = time = [25,50]
trans = addalpha
alpha = 256-(time-25)*10,(time-25)*10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 50
flag = invisible

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 1
length = 2

[State 0, ScreenBound]
type = ScreenBound
trigger1 = time >= 25
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,74
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,74

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 80
value = S0,75
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 80
value = S0,75

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 220
value = S5,55

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 226
anim = 9999
ID = 8872
pos =0,0
postype = back
facing = 1
vfacing = 1
bindtime = -2
removetime = 24
scale = 10,10
sprpriority = 199
ontop = 0
ownpal = 1
removeongethit = 0
trans = sub
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 226
anim = 7120
ID = 7120
pos = 0,0
postype = back
facing = 1
vfacing = 1
bindtime =- 2
removetime = -2
scale = 0.4,0.35
sprpriority = 200
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
add = -80,-80,-80

[State 1500]
type = SuperPause
trigger1 = time = 0
time = 250
movetime = 250
supermove = 250
anim = 104
sound = F19,1
pos = 3,-35
darken = 0
unhittable = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Tsukyomi"
ID = 1610
stateno = 1610
pos = 0,-13
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 250
value = 1602
ctrl = 1
;-------------------------------------------------------------------------------
; Tsukuyomi - Fin
[StateDef 1602]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1602
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = var(7)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S0,76
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S0,76

[State 0, End]
type = ChangeState
trigger1 = time = 35
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Tsukuyomi - Rayos
[Statedef 1605]
type = S
movetype = I
physics = S
anim = 1605
sprpriority = 20
velset = 0,0
ctrl = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time <= 4
time = 1
add = 128-time*32,0,0
mul = 256,256,256

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = time*.09,time*.09

[State 0, Trans]
type = Trans
trigger1 = time < 12
trans = addalpha
alpha = 256,256

[State 0, Trans]
type = Trans
trigger1 = time >= 12
trans = addalpha
alpha = 256-(time-12)*64,256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 16
;-------------------------------------------------------------------------------
; Tsukuyomi - FX
[StateDef 1610]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1610
poweradd = -1000
sprpriority = 4

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 6,0
time = 2
freq = 60
ampl = -4
phase = 90

[State 0, SprPriority]
type = SprPriority
trigger1 = 1 
value = 4

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = enemynear, pos x
y = enemynear, pos y 

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1611
ID = 1611
pos = 0,-40
postype = p1
facing = 1
vfacing = 1
bindtime =- 2
removetime = 250
scale = 1,1
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1613
ID = 1613
pos = 0,-40
postype = p1
facing = 1
vfacing = 1
bindtime = -2
removetime = -2
scale = .5,.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1614
ID = 1614
pos = 0,-40
postype = p1
facing = 1
vfacing = 1
bindtime =- 2
removetime = 250
scale = .5,.5
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1615
ID = 1615
pos = 0,-40
postype = p1
facing = 1
vfacing = 1
bindtime =- 2
removetime = 250
scale = 0.5,0.5
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1616
ID = 1616
pos = 0,-40
postype = p1
facing = 1
vfacing = 1
bindtime = -2
removetime = 250
scale = 0.4,0.4
sprpriority = -3
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 20
freq = 20
ampl = 2
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 80,0
value = S5,56

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = 5
pos = 0,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 30,0
anim = 1612
id = 1630
scale = 0.3,0.3
pos = 0,-40
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 2
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
ontop = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 250
id = 1630

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 5,0
attr = C,HP
damage = 9
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 50
sparkno = -1
sparkxy = -15, -43
hitsound = -1,4
guardsound = -1,4
ground.type = High
ground.slidetime = 5
ground.hittime  = 120
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 120
p2stateno = 1620

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = time = 250
attr = S,NA
damage = 18
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -43
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12

[State 0, End]
type = destroyself
trigger1 = time = 250
;-------------------------------------------------------------------------------
; Tsukuyomi - P2
[StateDef 1620]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5000+ifelse(authorname = "Salah",var(10),0)
elem = 1

[State 195, 2]
type = selfState
trigger1 = time = 10
value = 5000
ctrl = 1
;===============================================================================
; Mangekyou Sharingan Sense:
;-------------------------------------------------------------------------------
; Mangekyou Sharingan Sense - Start
[Statedef 1700]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1700
poweradd = -1000
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,93
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,93
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,93
volume = 999

[State 0, Sharingan FX]
type = Helper
trigger1 = animelem = 3
helpertype = normal
name = "Sharingan FX"
ID = 196
stateno = 195
pos = 0,-44
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999

[State 0, Sharingan Sense]
type = Helper
triggerall = numhelper(1750) = 0
trigger1 = time = 40
helpertype = normal
name = "Sharingan Sense"
ID = 1750
stateno = 1750
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S5,3
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
trigger2 = time = 32
value = S5,53
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 30
freq = 60
ampl = -4
time = 10

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 15 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time < 30
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 3,-30
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Mangekyou Sharingan Sense - Fin
[Statedef 1705]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 9999
poweradd = 0
sprpriority = -1

[State 0, Changeanim]
type = ChangeState
trigger1 = time = 0
value = 1706+random%3
;-------------------------------------------------------------------------------
; Mangekyou Sharingan Sense - Override 1
[Statedef 1706]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 1701
poweradd = -100
sprpriority = -1

[State 0, VelSet]
type = VelSet
trigger1 = time < 5 
x = -2

[State 0, VelSet]
type = VelSet
trigger1 = time > 5 
x = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,ST,HT
time = 15

[State 0, Teleport]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Teleport"
ID = 581
stateno = 581
pos = 0,-25
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .25
size.yscale = .30

[State 200, End]
type = ChangeState
trigger1 = Time = 15
value = ifelse(pos y < 0,50,0)
ctrl = 1
;-------------------------------------------------------------------------------
; Mangekyou Sharingan Sense - Override 2
[Statedef 1707]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 1702
poweradd = -100
sprpriority = -1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -2

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 0
time = 15
trans = Add
length = 2
timegap = 2
framegap = 2
palbright = 0 , 0 , 0
palcontrast = 180, 200, 230
paladd = 0,0,1
palmul = .50, .50, 1.10

[State 0, VelSet]
type = VelSet
trigger1 = time < 5 
x = 2

[State 0, VelSet]
type = VelSet
trigger1 = time > 5 
x = -2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,ST,HT
time = 15

[State 0, Teleport]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Teleport"
ID = 581
stateno = 581
pos = 0,-25
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = .25
size.yscale = .3

[State 200, End]
type = ChangeState
trigger1 = Time = 15
value = ifelse(pos y < 0,50,0)
ctrl = 1
;-------------------------------------------------------------------------------
; Mangekyou Sharingan Sense - Override 3
[Statedef 1708]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 1703
poweradd = -100
sprpriority = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,ST,HT
time = 15

[State 0, Teleport]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Teleport"
ID = 580
stateno = 580
pos = 0,-25
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = .2
size.yscale = .2

[State 200, End]
type = ChangeState
trigger1 = Time = 15
value = ifelse(pos y < 0,50,0)
ctrl = 1
;-------------------------------------------------------------------------------
; Mangekyou Sharingan Sense - ON
[Statedef 1750]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 9

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = time = 0
v = 6
value = 1

[State 200, End]
type = Changestate
trigger1 = time = 1000
trigger2 = roundstate != 2
value = 1751
;-------------------------------------------------------------------------------
; Mangekyou Sharingan Sense - Desactivado
[Statedef 1751]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = time = 0
v = 6
value = 0

[State 200, End]
type = Destroyself
trigger1 = time = 1
;-------------------------------------------------------------------------------
; Mangekyou Sharingan Sense - Pantalla
[Statedef 1755]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 0, Haki Pantalla]
type = Explod
triggerall = numexplod(1750) = 0
trigger1 = time = 0
anim = 1750
ID = 1750
pos = 160,120
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = 1,1
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermove = 99999
pausemove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numhelper(1750) = 0
id = 1750

[State 200, End]
type = Destroyself
trigger1 = numhelper(1750) = 0
;===============================================================================
; Katon Goka Messhitsu Susanoo:
;-------------------------------------------------------------------------------
[Statedef 1800]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1800
poweradd = -1000
sprpriority = 2

[State 0, PowerAdd]
type = PowerAdd
trigger1 = helper(1820),time = 20
value = -500

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 999,999
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -5,-35
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .25,.25
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, EnvShake]
type = EnvShake
triggerall = numhelper(1850) > 0
trigger1 = helper(1850),time < 147 && timemod = 10,0
time = 10
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 1801 && animelem = 2
value = S0,27
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 1801 && animelem = 2
value = S0,27
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 1801 && animelem = 8
value = S0,3
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 1801 && animelem = 8
value = S0,3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999

[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 1801
trigger1 = animelem = 2
value = S4,13
volume = 50

[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 1801
trigger1 = animelemtime(1) = 1
value = S60,1
volume = 50

[State 0, Viento]
type = Explod
triggerall = anim = 1801
trigger1 = animelemtime(1) = 1
anim = 7100
ID = 7100
pos = 40,20
postype = p1
facing = -1
scale = .3,.3
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 1801
trigger1 = animelem = 8
value = S4,10
volume = 50

[State 0, Katon Goka Messhitsu]
type = Helper
triggerall = anim = 1801
trigger1 = animelem = 8
helpertype = normal
name = "Katon Goka Messhitsu"
ID = 1850
stateno = 1850
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
Size.xscale = 1.5
Size.yscale = 1.5

[State 0, Susanoo Helper]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "Susanoo Helper"
ID = 1820
stateno = 1820
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
Size.xscale = .5
Size.yscale = .6

[State 0, Susanoo Parte Trasera]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "Susanoo Parte Trasera"
ID = 1825
stateno = 1825
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
Size.xscale = .5
Size.yscale = .6

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = anim = 1800
trigger1 = time > 30 && numhelper(1820) > 0
value = 1800
elem = 3

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = animelem !>= 4
trigger1 = time > 30 && numhelper(1820) = 0
value = 1800
elem = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = helper(1820),time = 29
value = 1801
elem = 1

[State 0, VelSet]
type = VelSet
trigger1 = anim = 1801 && animelemtime(1) = 0
x = -1
y = -8

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 1801 && animelemtime(1) = 0
statetype = A
movetype = A
physics = A

[State 0, VelSet]
type = VelSet
trigger1 = anim = 1801 && animelemtime(7) = 0
x = -.25
y = -.25

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 1801 && animelemtime(7) = 0
statetype = A
movetype = A
physics = N

[State 200, End]
type = ChangeState
triggerall = anim = 1800
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0, VelSet]
type = VelSet
triggerall = time > 150
triggerall = anim = 1801
trigger1 = numhelper(1850) = 0
x = -2
y = -4

[State 200, End]
type = ChangeState
triggerall = time > 150
triggerall = anim = 1801
trigger1 = numhelper(1850) = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Susanoo Helper
[Statedef 1820]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1820
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,22
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 7
trigger3 = animelem = 11
value = S5,29
volume = 999

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 200, 1]
type = HitDef
trigger1 = animelem = 4
trigger2 = animelem = 8
trigger3 = animelem = 13
attr = A, HP
animtype  = medium
damage    = 20,10
Hitflag = MAFDE
guardflag = MA
pausetime = 10,12
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,40
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 30
ground.velocity = -4
air.velocity = -2,-1
Fall = 0
Envshake.time = 10
Getpower = 0,0
sprpriority = 3

[State 0, Susanoo Slash]
type = Helper
triggerall = Numexplod(7001) = 0
trigger1 = movehit = 1
helpertype = normal
name = "Susanoo Slash"
ID = 995
stateno = 995
pos = 0,-30
postype = p2
facing = -1
ownpal = 1
size.xscale = .6*Helper(999999),Fvar(16)
size.yscale = .6*Helper(999999),Fvar(16)
ignorehitpause = 1

[State 200, End]
type = Changestate
trigger1 = root,stateno != 1800
trigger2 = time = 17 && movehit = 0
value = 1821
;-------------------------------------------------------------------------------
; Susanoo Helper Fin
[Statedef 1821]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,33
volume = 50

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = root,statetype != A
trigger1 = 1
value = 1820
elem = 1

[State 0, Trans]
type = Trans
trigger1 = time > 0
trans = addalpha
alpha = 256-time*25,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 200, End]
type = Destroyself
trigger1 = time = 10
;-------------------------------------------------------------------------------
; Susanoo Parte Trasera
[Statedef 1825]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 160
sprpriority = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = helper(1820),time = [20,29]
trigger2 = helper(1820),time = [39,55]
flag = invisible

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 200, End]
type = Changestate
trigger1 = root,stateno != 1800
trigger2 = helper(1820),time = 17 && helper(1820),movehit = 0
value = 1826
;-------------------------------------------------------------------------------
; Susanoo Parte Trasera Fin
[Statedef 1826]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = -1

[State 0, Trans]
type = Trans
trigger1 = time > 0
trans = addalpha
alpha = 256-time*25,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 200, End]
type = Destroyself
trigger1 = time = 10
;-------------------------------------------------------------------------------
; Katon Goka Messhitsu - Start
[Statedef 1850]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1190
sprpriority = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,10
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = S5,52
volume = 50

[State 0, EnvShake]
type = EnvShake
triggerall = movehit = 1
trigger1 = time = 147
time = 50
ampl = -8
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 15,-40

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -30
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = timemod = 5,0
attr = A, SP
animtype  = Heavy
damage    = 8,4
Hitflag = MAFDE
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1
air.velocity = -1,-1
Fall = 0
Getpower = 0,0
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
sprpriority = 3

[State 0, Fuego Suelo]
type = Helper
triggerall = time > 0
trigger1 = timemod = 10,0
helpertype = normal
name = "Fuego Suelo"
ID = 1860
stateno = 1860
pos = -10+random%300,200
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
Size.xscale = 1
Size.yscale = 1

[State 200, End]
type = ChangeState
trigger1 = time = 150
value = 1855
;-------------------------------------------------------------------------------
; Katon Goka Messhitsu - Fin
[Statedef 1855]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -30
scale = 1.5,1.5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*25,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,8
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Heavy
damage    = 13,6
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-8
air.velocity = -6,-8
Fall = 1
Getpower = 0,0
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
sprpriority = 3

[State 0, Fuego P2]
type = Helper
trigger1 = movehit = 1 && numhelper(1080) = 0
helpertype = normal
name = "Fuego P2"
ID = 1080
stateno = 1080
pos = 9999,9999999
postype = p1
ownpal = 1

[State 0, Explosion]
type = Explod
trigger1 = movecontact = 1 && numhelper(1060) = 0
anim = 1060
ID = 1060
pos = 0,-50
facing = -1
postype = p2
scale = 1.5,1.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = time = 10
;-------------------------------------------------------------------------------
; Fuego Ground Start
[Statedef 1860]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1860
sprpriority = 9

[State 0, BGPalFX]
type = BGPalFX
trigger1 = rootdist x = [-50,50]
time = 10
add = 50,0,0
mul = 200,200,200

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Changestate
trigger1 = time = 500
value = 1861
;-------------------------------------------------------------------------------
; Fuego Ground Fin
[Statedef 1861]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 9

[State 0, Trans]
type = Trans
trigger1 = time > 0
trans = addalpha
alpha = 256-time*25,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 10
;===============================================================================
; Mokuton Mokuryu no Jutsu:
;-------------------------------------------------------------------------------
[StateDef 1900]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1900
poweradd = -500
sprpriority = 0

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 999,999
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -5,-35
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 10
time = 20
freq = 15
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
trigger5 = animelem = 9
value = S8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
trigger5 = animelem = 10
value = S5,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 12
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S0,33

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 12
anim = 7014
pos = 0.9*28,3
scale = 0.5,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 13
helpertype = normal
name = "Mokuton"
ID = 1950
stateno = 1950
pos = -0.9*20,0.9*0
postype = p2
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 0.7*0.9
size.yscale = 0.7*0.9
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Mokuton Mokuryu no Jutsu - FX
[StateDef 1950]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1950
poweradd = -1500
sprpriority = 3

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 10
time = 5
pos = 170,-40

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 11
time = 5
pos = 240,-40

[State 0, TargetBind]
type = TargetBind
trigger1 = time = [45,100]
time = 5
pos = 260,-40

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = time > 35 && timemod = 10,0
anim = 7015
pos = 200,-50
scale = 0.5,0.5
vel = -10,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime=9999
pausemovetime=9999
ownpal = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 35
x = 8+(time-35)/4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 8240
pos = 15,4
scale = 1,0.5
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time = 0
anim = 7130
pos = 15,0
scale = 1.2,1.2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time = 0
anim = 8260
pos = 15,0
scale = 0.6,0.6
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,59

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,64

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S5,61

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S5,62

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S5,63

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S5,59

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S5,63

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Unguardable

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = time < 25
attr = S, NA
damage = 15
givepower = -70
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 3
sparkno = S7013
sparkxy = -1
hitsound = S5,65
guardsound = S4,1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-7
airguard.velocity = -2,-7
air.type = High
air.velocity = -2,-7
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = time = [25,35]
attr = S, NA
damage = 15
givepower = -70
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = S7013
sparkxy = -1
hitsound = S5,65
guardsound = S4,1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = time > 35
attr = S, NA
damage = 15
givepower = -70
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 3
sparkno = S7013
sparkxy = -1
hitsound = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -10,-2
airguard.velocity = -10,-2
air.type = High
air.velocity = -10,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, Trans]
type = Trans
trigger1 = time > 100
trans = addalpha
alpha = 256-(time-100)*5,(time-100)*5

[State 0, end]
type = destroyself
trigger1 = time = 100
;===============================================================================
;----------------------Rinnegan-------------------------------------------------
;===============================================================================
; Gedo Mazo:
;-------------------------------------------------------------------------------
[Statedef 2000]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1400
poweradd = -1500
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,31
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,31
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,31
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S0,32
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S0,32
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S0,32
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S0,32
volume = 999

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 999,999
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -5,-35
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, Mazou]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "Mazou"
ID = 2020
stateno = 2020
pos = -75,5
postype = p1
facing = 1
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 64 && numhelper(2020) > 0
value = 1400
elem = 5

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Gedo Mazo - Start
[Statedef 2020]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2020
sprpriority = -1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 8
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = helper(2040),movehit
v = 8
value = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,14
volume = 50

[State 0, Humo]
type = Helper
trigger1 = time = [0,10]
helpertype = normal
name = "Humo"
ID = 1490
stateno = 1490
pos = -50+random%150,-20-random%130
postype = p1
facing = 1
ownpal = 1
size.xscale = .8
size.yscale = .8

[State 0, Cadena]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "Cadena"
ID = 2040
stateno = 2040
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(8) = 0
trigger1 = time > 30 && numhelper(2040) > 0
value = 2020
elem = 2

[State 0, Rayo]
type = Helper
triggerall = var(8) = 1
trigger1 = time = 60
helpertype = normal
name = "Rayo"
ID = 2050
stateno = 2050
pos = 210,-240
postype = p1
facing = 1
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(8) = 1
trigger1 = time = 60
value = S5,47
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(8) = 1
trigger1 = time = 60
value = S5,47
volume = 999

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(8) = 1
trigger1 = time > 60 && numhelper(2050) > 0
value = 2020
elem = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = helper(2050),stateno = 2050
trigger1 = time > 60 && numhelper(2050) > 0 && timemod = 20,0
trigger2 = time = 60
time = 20

[State 200, End]
type = Changestate
triggerall = time > 65
trigger1 = animtime = 0
value = 2021
;-------------------------------------------------------------------------------
; Gedo Mazo - Fin
[Statedef 2021]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2021
sprpriority = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,14
volume = 50

[State 0, Humo]
type = Helper
trigger1 = time = [0,10]
helpertype = normal
name = "Humo"
ID = 1490
stateno = 1490
pos = -50+random%150,-20-random%130
postype = p1
facing = 1
ownpal = 1
size.xscale = .8
size.yscale = .8

[State 200, End]
type = Destroyself
trigger1 = time = 10
;-------------------------------------------------------------------------------
; Gedo Mazo - Cadena Start
[Statedef 2040]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2040
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -30
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 95,-105

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,29
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
flag2 = unguardable
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, SP
animtype  = Light
damage    = 0
Hitflag = MAFDE
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S5,60
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0
Fall = 0
sprpriority = 4
Envshake.time = 10
numhits = 0

[State 0, TargetState]
type = TargetState
trigger1 = movehit = 1 && p2stateno != 2045
value = 2045

[State 200, End]
type = ChangeState
trigger1 = movehit
value = 2042

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 2041
;-------------------------------------------------------------------------------
; Gedo Mazo - Cadena Fin
[Statedef 2041]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2041
sprpriority = 4

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = prevstateno = 2042
trigger1 = time = 0
value = 2041
elem = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -30
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 95,-105

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; Gedo Mazo - Atado
[Statedef 2042]
type    = A
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 2040
elem = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -30
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
pos = 95,-105

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = time = 0
pos = 115,105

[State 200, End]
type = ChangeState
trigger1 = helper(2050),stateno != 2050 && time > 60
value = 2041
;-------------------------------------------------------------------------------
; Gedo Mazo - P2
[Statedef 2045]
type    = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5000+ifelse(authorname = "Salah",var(10),0)
elem = 1

[State 200, End]
type = Selfstate
trigger1 = time = 50
value = 5050
;-------------------------------------------------------------------------------
; Gedo Mazo - Rayo Start
[Statedef 2050]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2050
sprpriority = 5

[State 0, Rayos P2]
type = Helper
trigger1 = movehit = 1 && numhelper(2070) = 0
helpertype = normal
name = "Rayos P2"
ID = 2070
stateno = 2070
pos = 9999,9999999
postype = p1
ownpal = 1

[State 0, Fin Suelo]
type = Explod
trigger1 = time > 0 && timemod = 10,0
anim = 2060
ID = 2060
pos = 0,290
postype = p1
scale = .75,.75
sprpriority = 5
ontop = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,44
volume = 50

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = timemod = 5,0
attr = A, SP
animtype  = Heavy
damage    = 10,5
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S5,30
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0,2
Fall = 0
Getpower = 0,0
sprpriority = 5
PalFX.time = 60
PalFX.add = 100,0,100
PalFX.mul = 256,256,256
PalFX.sinadd = 85,110,55,10
PalFX.invertall = 1
PalFX.color = 0

[State 0, Hit Spark]
type = Explod
trigger1 = Movehit = 1
anim = 7018
ID = 7001
postype = P2
pos = -50+random%100,-20-random%60
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 200, End]
type = ChangeState
trigger1 = time = 135
value = 2055
;-------------------------------------------------------------------------------
; Gedo Mazo - Rayo Fin
[Statedef 2055]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2055
sprpriority = 3

[State 0, Rayos P2]
type = Helper
trigger1 = movehit = 1 && numhelper(2070) = 0
helpertype = normal
name = "Rayos P2"
ID = 2070
stateno = 2070
pos = 9999,9999999
postype = p1
ownpal = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30
ampl = -8

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Heavy
damage    = 10,5
Hitflag = MAFDE
guardflag = MA
pausetime = 0,15
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S5,30
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0,10
Fall = 1
Getpower = 0,0
sprpriority = 5
PalFX.time = 60
PalFX.add = 100,0,100
PalFX.mul = 256,256,256
PalFX.sinadd = 85,110,55,20
PalFX.invertall = 1
PalFX.color = 0

[State 0, Hit Spark]
type = Explod
trigger1 = Movehit = 1
anim = 7018
ID = 7001
postype = P2
pos = 0,-80
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 1.5,1.5
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; Gedo Mazo - Rayos P2
[Statedef 2070]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999

[State 0, Rayos]
type = Explod
trigger1 = timemod = 20,0
anim = 2070
ID = 2070
pos = 0,-30
postype = p2
facing = -1
bindtime = -1
scale = .25,.25
sprpriority = 2
ontop = 1
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = p2movetype != H
trigger2 = time >= 60
;===============================================================================
; Fujutsu Kyuin:
;-------------------------------------------------------------------------------
[Statedef 2100]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2100
poweradd = -1000
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,56
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,56
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,56
volume = 999

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 999,999
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 5,-35
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, Fujutsu Kyuin]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "Fujutsu Kyuin"
ID = 2150
stateno = 2150
pos = 0,0
postype = p1
ownpal = 1
Size.xscale = .7
Size.yscale = .7

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 34 && numhelper(2150) > 0
value = 2100
elem = 4

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Fujutsu Kyuin
[Statedef 2150]
type    = A
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2150
sprpriority = 4

[State 0, Escudo Invisible]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Escudo Invisible"
ID = 2180
stateno = 2180
pos = 0,0
postype = p1
ownpal = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -90
ignorehitpause = 1

[State 0, BindToroot]
type = BindToroot
trigger1 = 1
pos = -15,-45

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,24
volume = 50

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = hitcount < 16
trigger1 = timemod = 4,0
attr = S, SP
animtype  = Heavy
damage    = 0,0
Hitflag = MAFDE
guardflag = MA
pausetime = 0,5
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0
Fall = 0
Envshake.time = 10
Getpower = 0,0
Sprpriority = 4
Givepower = -100,0
numhits = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 2100

[State 200, End]
type = Changestate
trigger1 = time > 10 && numhelper(2180) = 0
trigger2 = time > 150
value = 2155
;-------------------------------------------------------------------------------
; Fujutsu Kyuin Fin
[Statedef 2155]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0
scale = 1+time*.025,1+time*.025
value = -90
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time > 0
trans = Addalpha
alpha = 256-time*25,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 10
;-------------------------------------------------------------------------------
; Escudo Invisible
[Statedef 2180]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2180

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1585
time = 999999999
ignorehitpause = 0

[State 200, End]
type = Destroyself
trigger1 = ifelse(prevstateno = 2185,time = 25,time = 60)
;-------------------------------------------------------------------------------
; Escudo Invisible Golpeado
[Statedef 2185]
type    = A
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 2185
time = 999999999
ignorehitpause = 0

[State 200, End]
type = Changestate
trigger1 = hitover
value = 2180
;===============================================================================
; Chibaku Tensei:
;-------------------------------------------------------------------------------
[StateDef 2200]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2200
poweradd = -1000
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,87
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,87
volume = 999

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 999,999
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -4,-42
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = player
name = "Kula"
ID = 2203
stateno = 2203
pos = 2*0.9,-46*0.8
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.07
size.yscale = 0.07
supermovetime = 9999
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = time = 95
value = 2201
ctrl = 1
;-------------------------------------------------------------------------------
; Chibaku Tensei - Start
[StateDef 2201]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2201
poweradd = -1000
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S0,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S0,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S0,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 11
value = S8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S9,88

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S9,88

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 60 && time < 410 && timemod = 15,0
anim = 2270
pos = 0.9*14,0.9*-43
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "Niewidzialny"
ID = 2273
stateno = 2273
pos = 0,0
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = time = 600
value = 2202
ctrl = 1
;-------------------------------------------------------------------------------
; Chibaku Tensei - Fin
[StateDef 2202]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2202
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
value = S8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S0,89
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S0,89

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Chibaku Tensei - Kula
[StateDef 2203]
type = S
movetype = A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2203
sprpriority = 10

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 2200
time = 2
facing = 0
pos = 2*0.9,-46*0.8

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 2201 && parent, animelem = 1
trigger2 = parent, stateno = 2201 && parent, animelem = 2
time = 2
facing = 0
pos = 2*0.9,-46*0.8

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 2201 && parent, animelem = 3
time = 2
facing = 0
pos = 26*0.9,-46*0.9

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 2201 && parent, animelem = 4
trigger2 = parent, stateno = 2201 && parent, animelem = 5
trigger3 = parent, stateno = 2201 && parent, animelem = 6
time = 2
facing = 0
pos = 26*0.9,-54*0.9

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = S9,6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, end]
type = ChangeState
trigger1 = parent, stateno = 2201 && parent, animelem = 7
value = 2204
ctrl = 1

[State 0, end]
type = destroyself
trigger1 = parent, stateno != [2200,2201]
;-------------------------------------------------------------------------------
; Chibaku Tensei - Kula 2
[StateDef 2204]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2204
sprpriority = 10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 40
scale = 1+time/20,1+time/20

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 40
scale = 3,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 100 
anim = 2241
id = 2204
ownpal = 1
pos = 0,0
scale = 1,1
postype = p1
facing = -1
bindtime = -1
removetime = -1
sprpriority = 8
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = S9,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 90
value = S9,7

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Turn]
type = Turn
trigger1 = time = 0 && pos x > 0

[State 0, VelSet]
type = VelSet
trigger1 = pos x != [-1,1]
x = cond((-(pos x*0.05)*facing)>3,3*facing,-(pos x*0.05)*facing)

[State 0, VelSet]
type = VelSet
trigger1 = pos x = [-1,1]
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos x = [-1,1]
x = 0

[State 0, VelSet]
type = VelSet
trigger1 = pos y > -350
y = -1.5

[State 0, VelSet]
type = VelSet
trigger1 = pos y <= -350
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y <= -350
y = -350

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 100 && time < 260 && timemod = 20,0
anim = 2290
id = 2290
ownpal = 1
pos = 0,0
scale = 1.2,1.2
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 11
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 100 && time < 260 && timemod = 25,0
anim = 2291
id = 2291
ownpal = 1
pos = 0,0
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 12 
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time > 100 && timemod = 20,0
helpertype = normal
name = "Przyciaganie"
ID = 2242
stateno = 2242
pos = -800,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time > 100 && timemod = 20,0
helpertype = normal
name = "Przyciaganie"
ID = 2242
stateno = 2242
pos = 800,0
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 100
helpertype = normal
name = "Rozciaganie"
ID = 2243
stateno = 2243
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 100
helpertype = normal
name = "Rozciaganie"
ID = 2243
stateno = 2243
pos = 0,0
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 250
helpertype = normal
name = "Chibaku"
ID = 2205
stateno = 2205
pos = 0,0
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 140
helpertype = normal
name = "Ziemia"
ID = 2206
stateno = 2206
pos = 0,0
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 380
value = 2207
;-------------------------------------------------------------------------------
; Chibaku Tensei - FX
[StateDef 2205]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2205
poweradd = 0
sprpriority = 9

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 40
time = 2
add = -time*2,-time*2,-time*2

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time >= 40
time = 2
add = -80,-80,-80

[State 0, EnvShake]
type = EnvShake
trigger1 = time < 140 && timemod = 10,0
time = 40
freq = 40
ampl = -6
phase = 5

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 0,0

[State 0, Explod]
type = Explod
trigger1 = time < 140 && timemod = 4,0
anim = 2251+random%6
ID = 2205
pos = cond(random<499,1,-1)*random%time*1.0,cond(random<499,1,-1)*random%time*1.0;((time*time)/((random%time)*(random%time)))/((time*time)/((random%time)*(random%time)))
postype = p1 
vel = 0,2
facing = 1
vfacing = 1
bindtime = 330
removetime = -2
pausemovetime = 999
scale = 1,1
sprpriority = 9+random%5
ontop = 0
ownpal = 0
angle = time*20

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0 && time > 150 && time < 180
anim = 2295
ID = 2290
pos = -150+random%300,-50+random%150
vel = 0,2
angle = time*20
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 9+random%5
ownpal = 1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time < 180 && timemod = 30,0
value = S5,66

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time < 180 && timemod = 30,0
value = S5,66

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time < 180 && timemod = 40,0
value = S5,67

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 10,0
attr = S, NT
damage = cond(hitcount < 15,20,0),cond(hitcount < 15,20,0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 9
sprpriority = 9
pausetime = 0, 10
sparkno = -1
sparkxy = -15,0
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 2245

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Cien"
ID = 2291
stateno = 2291
pos = 0,0
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2208
value = 2209
;-------------------------------------------------------------------------------
; Chibaku Tensei - Ziemia
[StateDef 2206]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2206
poweradd = 0
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 40
freq = 40
ampl = -6
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
value = S5,68

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = S5,69

[State 0, VarRandom]
type = VarRandom
trigger1 = 1
v = 1
range = -200,200

[State 0, Explod]
type = Explod
trigger1 = timemod = 10,0
anim = 8260
ID = 8260
pos = var(1),-10+random%30
postype = p1 
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 999
scale = 0.6,0.5
sprpriority = 0+random%15
ontop = 0
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim = 2261+random%6
ID = 2206
pos = var(1),-10+random%30
postype = p1 
vel = -(var(1)/(90+time/3)),-3.5
facing = 1
vfacing = 1
bindtime = 10
removetime = 120
pausemovetime = 999
scale = 1,1
sprpriority = -1+random%15
ontop = 0
ownpal = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = parent, pos x
y = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = target, ishelper = 0
hitonce = 1
attr = S, NT
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 50
sparkno = -1
sparkxy = -15,-20-random%40
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 2241

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 200
;-------------------------------------------------------------------------------
; Chibaku Tensei - Kula 3
[StateDef 2207]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2207
poweradd = 0
sprpriority = 10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 
anim = 2244
id = 2207
ownpal = 1
pos = 0,0
scale = 1,1
postype = p1
facing = -1
bindtime = -2
removetime = -2
sprpriority = 8
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0 
id = 2204

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = -350

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 200
value = 2208
;-------------------------------------------------------------------------------
; Chibaku Tensei - Kula 4
[StateDef 2208]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2208
poweradd = 0
sprpriority = 10

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = -350

[State 0, ChangeState]
type = Destroyself
trigger1 = time = 100
;-------------------------------------------------------------------------------
; Chibaku Tensei - FX 2
[StateDef 2209]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2209
poweradd = 0
sprpriority = 9

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 80
time = 2
add = -80+time,-80+time,-80+time

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 30
freq = 30
ampl = -5
phase = 5

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,70

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = S5,69

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = S5,66

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 40,0
value = S5,67

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
trigger1 = hitcount = 0
persistent = 0 
hitonce = 1
attr = S, NT
damage = 40
animtype = Light
guardflag = MA
hitflag = MAF
priority = 9
sprpriority = 9
pausetime = 0, 0
sparkno = 546346
sparkxy = -15,0
hitsound = 32, 315345
guardsound = 32, 31345134
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,-2
airguard.velocity = 0,-2
air.type = High
air.velocity = 0,-2
air.hittime = 12
fall = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; Chibaku Tensei - Helper
[StateDef 2231]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2273
poweradd = 0
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = S, NT
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 50
sparkno = 546346
sparkxy = -15,-20-random%40
hitsound = 32, 315345
guardsound = 32, 31345134
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 2240

[State 0, end]
type = destroyself
trigger1 = time = 20
;-------------------------------------------------------------------------------
; Chibaku Tensei - P2
[StateDef 2235]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5000+ifelse(authorname = "Salah",var(10),0)
elem = 1

[State 195, 2]
type = selfState
trigger1 = time > 100 && enemy, stateno != [670,2209]
value = 5000
ctrl = 1
;-------------------------------------------------------------------------------
; Chibaku Tensei - P2 2
[StateDef 2240]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5000+var(0)*10000
velset = 0,0
poweradd = 0
sprpriority = 0

[State 195, 2]
type = selfstate
trigger1 = time = 300
value = 5000
ctrl = 1
;-------------------------------------------------------------------------------
; Chibaku Tensei - P2 3
[StateDef 2241]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5090+var(0)*10000
velset = 0,0
poweradd = 0
sprpriority = 9

[State 0, VelSet]
type = VelSet
trigger1 = pos x != [-1,1]
x = -(pos x*0.05)*facing

[State 0, VelSet]
type = VelSet
trigger1 = pos x = [-1,1]
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos x = [-1,1]
x = 0

[State 0, VelSet]
type = VelSet
trigger1 = pos y > -320
y = -2

[State 0, VelSet]
type = VelSet
trigger1 = pos y <= -320
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y <= -320
y = -320

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 195, 2]
type = selfState
trigger1 = time = 100
value = 5050
ctrl = 1
;-------------------------------------------------------------------------------
; Chibaku Tensei - Przyciaganie
[StateDef 2242]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2242
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = parent, pos x - pos x != [-150,150]
x = 1+time/2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = -1
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,0
airguard.velocity = -5,0
air.type = High
air.velocity = -5,0
air.hittime = 12

[State 0, end]
type = destroyself
trigger1 = parent, pos x - pos x = [-160,160]

[State 0, end]
type = destroyself
trigger1 = parent, stateno = 2207
;-------------------------------------------------------------------------------
; Chibaku Tensei - Ekranu
[StateDef 2243]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2243
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 10,10

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 0
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = pos x = [-800,800]
x = 2

[State 0, VelSet]
type = VelSet
trigger1 = pos x != [-800,800]
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos x >= 800
x = 800

[State 0, PosSet]
type = PosSet
trigger1 = pos x <= -800
x = -800

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, end]
type = destroyself
trigger1 = parent, stateno = 2208
;-------------------------------------------------------------------------------
; Chibaku Tensei - P2 4
[StateDef 2245]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5000+var(0)*10000
velset = 0,0
poweradd = 0
sprpriority = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 195, 2]
type = selfState
trigger1 = time = 100
value = 5050
ctrl = 1
;-------------------------------------------------------------------------------
; Chibaku Tensei - Helper 2
[StateDef 2273]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2273
poweradd = 0
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target,ishelper = 0
flag = unguardable

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = S, NT
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 50
sparkno = -1
sparkxy = -1
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 2235

[State 0, end]
type = destroyself
trigger1 = time = 20
;-------------------------------------------------------------------------------
; Chibaku Tensei - FX 3
[StateDef 2291]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2274
poweradd = 0
sprpriority = 4

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = parent, pos x
y = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 80
scale = time*0.0125,time*0.0125

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 80
scale = 1,1

[State 0, end]
type = changestate
trigger1 = parent, stateno = 2209
value = 2292
;-------------------------------------------------------------------------------
; Chibaku Tensei - FX 4
[StateDef 2292]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2274
poweradd = 0
sprpriority = 4

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = parent, pos x
y = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 20 && time < 100
scale = 1-(time-20)*0.0125,1-(time-20)*0.0125

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 100
scale = 0.0125,0.0125

[State 0, end]
type = destroyself
trigger1 = time = 100
;===============================================================================
; Mokuton Yukai Kotan:
;-------------------------------------------------------------------------------
[Statedef 2300]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1400
poweradd = -1500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,33
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,33
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,33
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S0,58
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S0,58
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S0,58
volume = 999

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 999,999
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -5,-35
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, Arboles]
type = Helper
trigger1 = time = [30,100]
trigger1 = timemod = 10,0
helpertype = normal
name = "Arboles"
ID = 2350
stateno = 2350
pos = -100+random%200,5
postype = p1
facing = 1
ownpal = 1

[State 0, Arboles]
type = Helper
trigger1 = time = [30,100]
trigger1 = timemod = 10,0
helpertype = normal
name = "Arboles"
ID = 2350
stateno = 2350
pos = -200+random%200,5
postype = p1
facing = 1
ownpal = 1

[State 0, Arboles]
type = Helper
trigger1 = time = [30,100]
trigger1 = timemod = 10,0
helpertype = normal
name = "Arboles"
ID = 2350
stateno = 2350
pos = -300+random%200,5
postype = p1
facing = 1
ownpal = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = [30,120]
value = 1400
elem = 5

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Mokuton Yukai Kotan - Start
[Statedef 2350]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2350+random%5
sprpriority = -1

[State 0, Roto]
type = Explod
trigger1 = time = 0
anim = 8245
ID = 8245
pos = 20,-2
postype = p1
scale = .75,.75
sprpriority = -9
ontop = 0
ownpal = 1

[State 0, Humo]
type = Explod
trigger1 = time = 0
anim = 7110
ID = 7110
pos = 20,35
postype = p1
scale = .3,.3
sprpriority = 2
ontop = 1
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,42
volume = 50

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = S, SP
animtype  = Heavy
damage    = 26,13
Hitflag = MAFDE
guardflag = MA
pausetime = 12,6
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,31
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(p2bodydist x < 0,-2,2),-4
air.velocity = ifelse(p2bodydist x < 0,-2,2),-4
Fall = 1
Envshake.time = 30
sprpriority = -1
Getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 0, Hit Spark]
type = Explod
triggerall = numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 7010
postype = P2
pos = -20+random%40,-20-random%40
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .4,.4
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1

[State 200, End]
type = Changestate
trigger1 = time = 150
value = 2355
;-------------------------------------------------------------------------------
; Mokuton Yukai Kotan - Fin
[Statedef 2355]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = -1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1-time*.1,1-time*.1

[State 0, Humo]
type = Explod
trigger1 = time = 0
anim = 7110
ID = 7110
pos = 20,35
postype = p1
scale = .3,.3
sprpriority = 2
ontop = 1
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,42
volume = 50

[State 200, End]
type = Destroyself
trigger1 = time = 10